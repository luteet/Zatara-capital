import changeTheme from"./change-theme.js";import dropDown from"./drop-down.js";import headerOnScroll from"./header-on-scroll.js";import imageAspectRatio from"./image-aspect-ratio.js";import sliders from"./sliders.js";import masonry from"./simple-masonry.js";import aboutCompanyVideo from"./about-company-video.js";const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),header=document.querySelector(".header");let tabsTimeout;imageAspectRatio(),dropDown(),body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("is-mobile-menu-active")});const s=t(".header__theme_target");s&&changeTheme(s.dataset.changeThemeTo);t(".header__nav_list > li")||document.querySelectorAll(".header__nav_list > li.is-hover").forEach(e=>e.classList.remove("is-hover"));const i=t(".tabs-nav__link");if(i&&0==i.getAttribute("href").indexOf("#")&&(e.preventDefault(),"#"!==i.getAttribute("href")&&!i.classList.contains("is-active"))){const e=i.closest(".tabs"),t=e.querySelector(".tabs-container"),s=e.querySelector(".tabs-nav__link.is-active"),o=e.querySelector(".tabs-block.is-active"),r=e.querySelector(i.getAttribute("href"));r&&(t.style.minHeight=t.scrollHeight+"px",o.classList.add("fade-out"),o.classList.remove("fade-in"),s.classList.remove("is-active"),tabsTimeout&&clearTimeout(tabsTimeout),tabsTimeout=setTimeout(()=>{o.classList.remove("is-active"),o.classList.remove("fade-out"),r.classList.add("is-active"),setTimeout(()=>{r.classList.add("fade-in"),i.classList.add("is-active"),setTimeout(()=>{t.style.removeProperty("min-height")},300)},0)},300))}}));const getDeviceType=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};let deviceType,windowSize=0;function resize(){html.style.setProperty("--height-header",header.offsetHeight+"px"),html.style.setProperty("--vh",.01*window.innerHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),windowSize=window.innerWidth,deviceType=getDeviceType()}resize(),window.addEventListener("resize",resize),document.querySelectorAll(".header__nav_list > li > a").forEach(e=>{e.addEventListener("mouseenter",t=>{"desktop"==deviceType&&e.closest("li").classList.add("is-hover")}),e.closest("li").addEventListener("mouseleave",t=>{"desktop"==deviceType&&e.closest("li").classList.remove("is-hover")}),e.addEventListener("click",t=>{e.closest("li").classList.contains("is-hover")||t.preventDefault(),e.closest("li").classList.add("is-hover")})}),document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{document.body.classList.add("is-init")},500)}),headerOnScroll(header),sliders(),masonry({column:2,responsive:[{breakpoint:1024,column:2},{breakpoint:550,column:1}]}),aboutCompanyVideo(),document.querySelectorAll(".why-we__list").forEach(e=>{const t=new IntersectionObserver((function(t){t.forEach(t=>{t.isIntersecting?e.classList.add("set-animate"):e.classList.remove("set-animate")})}));t.disconnect(e),t.observe(e)});