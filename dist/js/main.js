import changeTheme from"./change-theme.js";import dropDown from"./drop-down.js";import headerOnScroll from"./header-on-scroll.js";import imageAspectRatio from"./image-aspect-ratio.js";import sliders from"./sliders.js";import masonry from"./simple-masonry.js";import aboutCompanyVideo from"./about-company-video.js";import scrollPin from"./scroll-pin.js";import schemeArrows from"./arrows.js";import datepicker from"./datepicker.js";gsap.registerPlugin(ScrollTrigger),ScrollTrigger.config({ignoreMobileResize:!0});const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),header=document.querySelector(".header"),themeChangeEvent=new Event("theme-change");let tabsTimeout;imageAspectRatio(),dropDown(),body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("is-mobile-menu-active")});const s=t(".header__theme_target");s&&changeTheme(s.dataset.changeThemeTo,themeChangeEvent);t(".header__nav_list > li")||document.querySelectorAll(".header__nav_list > li.is-hover").forEach(e=>e.classList.remove("is-hover")),t(".header__nav_list > li > div a")&&menu.forEach(e=>{e.classList.remove("is-mobile-menu-active")});const i=t(".header__nav_list > ul > li > a");i&&i.closest("li").querySelector("div")&&!accountAsideNavBlockLink.classList.contains("is-active")&&accountAsideNavBlockLink.classList.contains("is-current")&&e.preventDefault();const o=t(".tabs-nav__link");if(o&&0==o.getAttribute("href").indexOf("#")&&(e.preventDefault(),"#"!==o.getAttribute("href")&&!o.classList.contains("is-active"))){const e=o.closest(".tabs"),t=e.querySelector(".tabs-container"),s=e.querySelector(".tabs-nav__link.is-active"),i=e.querySelector(".tabs-block.is-active"),r=e.querySelector(o.getAttribute("href"));r&&(t.style.minHeight=t.scrollHeight+"px",i.classList.add("fade-out"),i.classList.remove("fade-in"),s.classList.remove("is-active"),tabsTimeout&&clearTimeout(tabsTimeout),tabsTimeout=setTimeout(()=>{i.classList.remove("is-active"),i.classList.remove("fade-out"),r.classList.add("is-active"),setTimeout(()=>{r.classList.add("fade-in"),o.classList.add("is-active"),setTimeout(()=>{t.style.removeProperty("min-height")},300)},0)},300))}const r=t(".documents__view_all");if(r){const e=r.closest("section").querySelector(".documents__list");e&&e.classList.add("view-all")}const a=t(".risk-managment__item_target");a&&a.parentElement.classList.toggle("is-active");const l=t(".holidays-item__target");if(l){const e=l.parentElement,t=e.parentElement.querySelectorAll(".is-active");e.classList.contains("is-active")?t.forEach(e=>{e.classList.remove("is-active")}):(t.forEach(e=>{e.classList.remove("is-active")}),e.classList.add("is-active"))}const c=t(".faq-block-item__target");if(c){const e=c.parentElement,t=e.closest(".faq__inner").querySelectorAll(".is-active");e.classList.contains("is-active")?t.forEach(e=>{e.classList.remove("is-active")}):(t.forEach(e=>{e.classList.remove("is-active")}),e.classList.add("is-active"))}const n=t(".toggle-visible-password");if(n){e.preventDefault();const t=n.parentElement.querySelector("input");n.classList.toggle("is-visible"),n.classList.contains("is-visible")?t.type="text":t.type="password"}}));const getDeviceType=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};let deviceType,windowSize=0;function resize(){html.style.setProperty("--height-header",header.offsetHeight+"px"),html.style.setProperty("--vh",.01*window.innerHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),document.querySelectorAll(".mobile-app__advantages li").forEach(e=>e.style.setProperty("--height",e.offsetHeight+"px")),windowSize=window.innerWidth,deviceType=getDeviceType()}function getCoords(e){let t=e.getBoundingClientRect();return{top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX}}resize(),window.addEventListener("resize",resize),document.querySelectorAll(".header__nav_list > li > a").forEach(e=>{e.addEventListener("mouseenter",t=>{"desktop"==deviceType&&e.closest("li").classList.add("is-hover")}),e.closest("li").addEventListener("mouseleave",t=>{"desktop"==deviceType&&e.closest("li").classList.remove("is-hover")}),e.addEventListener("click",t=>{e.closest("li").querySelector("div")&&(e.closest("li").classList.contains("is-hover")||t.preventDefault(),e.closest("li").classList.add("is-hover"))})}),document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{document.body.classList.add("is-init")},200)}),headerOnScroll(header),sliders(),masonry({column:2,responsive:[{breakpoint:1024,column:2},{breakpoint:550,column:1}]}),datepicker(),aboutCompanyVideo(),scrollPin(),schemeArrows(windowSize),document.querySelectorAll(".center-scroll-position").forEach(e=>{setTimeout(()=>{e.querySelectorAll(".simplebar-content-wrapper").forEach(e=>{e.scrollLeft=(e.scrollWidth-e.offsetWidth)/2})},0)});let url=new URL(window.location);url.searchParams.get("target")&&(window.scrollTo({left:0,top:getCoords(document.querySelector("#"+url.searchParams.get("target"))).top,behavior:"smooth"}),history.pushState("","","")),AOS.init({disable:"mobile",once:!0}),document.querySelectorAll(".why-we__list").forEach(e=>{const t=new IntersectionObserver((function(t){t.forEach(t=>{t.isIntersecting?e.classList.add("set-animate"):e.classList.remove("set-animate")})}));t.disconnect(e),t.observe(e)});