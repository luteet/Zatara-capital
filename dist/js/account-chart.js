export default function accountChart(){const t=t=>{const{chart:a,tooltip:e}=t,o=(t=>{let a=document.querySelector(`[data-tooltip-for="${t.canvas.dataset.id}"]`);return a||(a=document.createElement("div"),a.classList.add("chart-tooltip"),a.setAttribute("data-tooltip-for",t.canvas.dataset.id),a.style.opacity=1,document.body.appendChild(a)),a})(a);if(0!==e.opacity){if(e.body){const t=e.body.map(t=>t.lines);o.innerHTML="",t.forEach((t,a)=>{o.insertAdjacentHTML("beforeend",`\n\t\t\t\t<div class="chart-tooltip__footer">\n\t\t\t\t\t${e.dataPoints[0].formattedValue.toLocaleString("ru")}${e.dataPoints[0].dataset.after}\n\t\t\t\t</div>`)})}o.style.opacity=1,o.style.left=a.canvas.getBoundingClientRect().left+e.caretX+"px",o.style.top=function(t){let a=t.getBoundingClientRect();return{top:a.top+window.scrollY,right:a.right+window.scrollX,bottom:a.bottom+window.scrollY,left:a.left+window.scrollX}}(a.canvas).top+e.caretY+"px",o.style.font=e.options.bodyFont.string,o.style.padding=e.options.padding+"px "+e.options.padding+"px"}else o.style.opacity=0};function a(t){let a=[{label:t.data.name,data:t.data.values,fill:!0,borderColor:"rgba(0, 0, 0, 0)",pointBackgroundColor:t.data.gradient[1],pointRadius:0,pointHoverRadius:7,pointBorderWidth:7,pointBorderColor:"#FFF",hoverBorderWidth:7,after:t.data.after?t.data.after:"",backgroundColor:function(a){const e=a.chart,{ctx:o,chartArea:n}=e;if(n)return function(t,a,e,o){const n=a.right-a.left,r=a.bottom-a.top;let i,l,d;return d&&i===n&&l===r||(i=n,l=r,d=t.createLinearGradient(0,a.bottom,0,a.top),d.addColorStop(0,e),d.addColorStop(1,o)),d}(o,n,t.data.gradient[0],t.data.gradient[1])},tension:.5}];return{labels:t.labels,datasets:a}}let e=[];document.querySelectorAll(".chart canvas").forEach((o,n)=>{const r=o.getContext("2d");if(dataObj){const o={type:"line",data:a(dataObj),options:{responsive:!0,parsing:{yAxisKey:"value",xAxisKey:"value"},interaction:{intersect:!1},animation:!1,plugins:{tooltip:{enabled:!1,position:"nearest",external:t},legend:{display:!1}},scales:{x:{grid:{color:"light"==localStorage.getItem("zatara-capital-theme")?"#EBEBEB":"#102140"},ticks:{color:"#66789A"}},y:{grid:{color:"light"==localStorage.getItem("zatara-capital-theme")?"#EBEBEB":"#102140"},ticks:{color:"#66789A",callback:function(t,a,e){return`${dataObj.data.after}${t}`}}}}}};e.push(new Chart(r,o))}}),document.documentElement.addEventListener("theme-change",()=>{e.map(t=>{t.options.scales.y.grid.color="light"==localStorage.getItem("zatara-capital-theme")?"#EBEBEB":"#102140",t.options.scales.x.grid.color="light"==localStorage.getItem("zatara-capital-theme")?"#EBEBEB":"#102140",t.update()})})}