import accountChart from"./account-chart.js";import changeTheme from"./change-theme.js";import clipboard from"./clipboard.js";import customSelect from"./custom-select.js";import datepicker from"./datepicker.js";import depositsChart from"./deposits-chart.js";import dropDown from"./drop-down.js";import imageAspectRatio from"./image-aspect-ratio.js";const body=document.querySelector("body"),html=document.querySelector("html");function getCoords(e){let t=e.getBoundingClientRect();return{top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX}}const themeChangeEvent=new Event("theme-change"),accountHeaderSearch=document.querySelector(".account-header__search"),searchPopup=document.querySelector(".search-popup");let asideTimeout,tabsTimeout;imageAspectRatio(),dropDown(),body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}const s=t(".account-aside__nav_block > ul > li > a");s?s.closest("li").querySelector("div")&&(!s.classList.contains("is-active")&&s.classList.contains("is-current")&&e.preventDefault(),s.classList.contains("is-active")||(e.preventDefault(),document.querySelectorAll(".account-aside__nav_block > ul > li > a.is-active").forEach(e=>e.classList.remove("is-active")),s.classList.add("is-active"))):t(".account-aside__nav")||document.querySelectorAll(".account-aside__nav_block > ul > li > a.is-active").forEach(e=>e.classList.remove("is-active"));const o=t(".mobile-nav__target");o?(o.parentElement.classList.toggle("is-active"),o.parentElement.classList.contains("is-active")&&window.scrollTo({left:0,top:getCoords(o.parentElement).top-10,behavior:"smooth"})):t(".mobile-nav")||document.querySelectorAll(".mobile-nav.is-active").forEach(e=>e.classList.remove("is-active"));const c=t(".mobile-nav__item > ul > li > a");c?c.closest("li").querySelector("div")&&(!c.classList.contains("is-active")&&c.classList.contains("is-current")&&e.preventDefault(),c.classList.contains("is-active")||(e.preventDefault(),document.querySelectorAll(".mobile-nav__item > ul > li > a.is-active").forEach(e=>e.classList.remove("is-active")),c.classList.add("is-active"))):t(".mobile-nav__item")||document.querySelectorAll(".mobile-nav__item > ul > li > a.is-active").forEach(e=>e.classList.remove("is-active"));const i=t(".account-header__search_open");i?i.closest(".account-header__search").classList.add("is-active"):t(".account-header__search")||t(".search-popup")||document.querySelectorAll(".account-header__search").forEach(e=>e.classList.remove("is-active"));const a=t(".account-aside__collapse");a&&(clearTimeout(asideTimeout),a.closest(".account-wrapper").classList.add("is-animating"),document.body.classList.toggle("active-min-mode"),document.body.classList.contains("active-min-mode")?localStorage.setItem("zatara-capital-account-min-aside",!0):localStorage.setItem("zatara-capital-account-min-aside",!1),asideTimeout=setTimeout(()=>{a.closest(".account-wrapper").classList.remove("is-animating")},500));const r=t(".toggle-visible-password");if(r){e.preventDefault();const t=r.parentElement.querySelector("input");r.classList.toggle("is-visible"),r.classList.contains("is-visible")?t.type="text":t.type="password"}const n=t(".account-theme__target");n&&changeTheme(n.dataset.changeThemeTo,themeChangeEvent);const l=t(".account-tabs__link");if(l&&0==l.getAttribute("href").indexOf("#")&&(e.preventDefault(),"#"!==l.getAttribute("href")&&!l.classList.contains("is-active"))){const e=l.closest(".account-tabs-wrapper"),t=e.querySelector(".account-tabs-container"),s=e.querySelector(".account-tabs__link.is-active"),o=e.querySelector(".account-tabs-block.is-active"),c=e.querySelector(l.getAttribute("href"));c&&(t.style.minHeight=t.scrollHeight+"px",o.classList.add("fade-out"),o.classList.remove("fade-in"),s&&s.classList.remove("is-active"),tabsTimeout&&clearTimeout(tabsTimeout),tabsTimeout=setTimeout(()=>{o.classList.remove("is-active"),o.classList.remove("fade-out"),c.classList.add("is-active"),setTimeout(()=>{c.classList.add("fade-in"),l.classList.add("is-active"),setTimeout(()=>{t.style.removeProperty("min-height")},300)},0)},300))}searchPopup.classList.contains("is-active")&&(t(".search-popup")||t(".account-header__search")||searchPopup.classList.remove("is-active"),t(".search-popup__close")&&(searchPopup.classList.remove("is-active"),document.querySelectorAll(".account-header__search").forEach(e=>e.classList.remove("is-active"))))}));const getDeviceType=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};let deviceType,windowSize=0;const formItems=document.querySelectorAll(".form-item");function resize(){html.style.setProperty("--vh",.01*window.innerHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),formItems.forEach(e=>{const t=e.querySelector(".input");t&&t.nextElementSibling&&t.style.setProperty("--padding-right",t.nextElementSibling.offsetWidth+"px")}),windowSize=window.innerWidth,deviceType=getDeviceType(),searchPopup.style.setProperty("--x",getCoords(accountHeaderSearch).left+"px"),searchPopup.style.setProperty("--y",getCoords(accountHeaderSearch).top+accountHeaderSearch.offsetHeight+"px"),searchPopup.style.setProperty("--max-width",accountHeaderSearch.offsetWidth+"px")}accountHeaderSearch.querySelector("input").addEventListener("focus",()=>{searchPopup.classList.add("is-active")}),resize(),window.addEventListener("resize",resize),document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{document.body.classList.add("is-init")},400)}),document.querySelectorAll(".center-scroll-position").forEach(e=>{setTimeout(()=>{e.querySelectorAll(".simplebar-content-wrapper").forEach(e=>{e.scrollLeft=(e.scrollWidth-e.offsetWidth)/2})},0)}),depositsChart(),accountChart(),customSelect(),clipboard(),datepicker(),document.querySelectorAll(".form-file").forEach(e=>{e.querySelector("input").addEventListener("change",t=>{e.querySelector("span").textContent=t.target.files[0].name})});